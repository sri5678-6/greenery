<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GreenFinder Prototype</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #f0f2f5;
        }
        .map-container {
            position: relative;
            width: 80%;
            height: 90%;
            border: 2px solid #ccc;
            background-color: #e6f2e6;
            background-image: url('https://via.placeholder.com/800x600/e6f2e6/808080?text=Map+Placeholder');
            background-size: cover;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        .green-dot {
            position: absolute;
            width: 20px;
            height: 20px;
            background-color: #28a745;
            border-radius: 50%;
            cursor: pointer;
            border: 2px solid white;
            animation: pulse 1.5s infinite;
        }
        .green-dot:hover {
            transform: scale(1.2);
        }
        .popup {
            position: absolute;
            background-color: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            z-index: 10;
            display: none;
            flex-direction: column;
            gap: 10px;
            min-width: 200px;
        }
        .popup h3 {
            margin: 0;
            font-size: 1.2em;
            color: #333;
        }
        .popup ul {
            list-style-type: none;
            padding: 0;
            margin: 0;
        }
        .popup ul li {
            padding: 5px 0;
            color: #555;
        }
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
    </style>
</head>
<body>

<div class="map-container" id="map">
    <div class="green-dot" style="top: 25%; left: 35%;" data-supplier="Rohan's Garden" data-items="Tomatoes (2kg), Basil (1 bunch)"></div>
    <div class="green-dot" style="top: 50%; left: 60%;" data-supplier="Community Farm" data-items="Kale (5 bunches), Zucchini (3kg)"></div>
    <div class="green-dot" style="top: 70%; left: 20%;" data-supplier="Urban Greens" data-items="Microgreens (1 box)"></div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const dots = document.querySelectorAll('.green-dot');
        const map = document.getElementById('map');
        
        dots.forEach(dot => {
            dot.addEventListener('click', (event) => {
                // Remove any existing popups
                const existingPopup = document.querySelector('.popup');
                if (existingPopup) {
                    existingPopup.remove();
                }

                const supplier = dot.dataset.supplier;
                const items = dot.dataset.items.split(',').map(item => `<li>${item.trim()}</li>`).join('');

                const popup = document.createElement('div');
                popup.classList.add('popup');
                popup.innerHTML = `
                    <h3>${supplier}</h3>
                    <ul>${items}</ul>
                `;

                // Position the popup near the clicked dot
                const dotRect = dot.getBoundingClientRect();
                const mapRect = map.getBoundingClientRect();

                popup.style.top = `${dot.offsetTop + 30}px`;
                popup.style.left = `${dot.offsetLeft + 30}px`;
                
                map.appendChild(popup);
                popup.style.display = 'flex';
            });
        });
    });
</script>

</body>
</html>
